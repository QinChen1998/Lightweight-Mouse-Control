# Lightweight Mouse Control

一个轻量级的鼠标录制和回放工具，支持录制鼠标轨迹并精确回放。

## 功能特性

- **鼠标录制**: 按 Ctrl+B 或点击按钮开始/停止录制鼠标移动轨迹
- **路径保存**: 自动以日期时间命名保存录制的路径文件
- **路径回放**: 选择保存的路径进行精确回放
- **速度控制**: 可调节回放速度（0.1x - 5.0x）
- **全局热键**: 支持全局快捷键 Ctrl+B 启动/停止录制
- **路径管理**: 查看、删除和管理已保存的鼠标路径
- **设置系统**: 可自定义录制精度、回放速度等参数

## 项目结构

```
Lightweight-Mouse-Control/
├── src/                    # 源代码文件
│   ├── main.cpp
│   ├── mainwindow.cpp
│   ├── mousepoint.cpp      # 鼠标点数据结构
│   ├── mouserecorder.cpp   # 鼠标录制功能
│   ├── mouseplayer.cpp     # 鼠标回放功能
│   ├── pathmanager.cpp     # 路径文件管理
│   ├── hotkeymanager.cpp   # 全局热键管理
│   └── settingsdialog.cpp  # 设置对话框
├── include/                # 头文件
├── ui/                     # UI 界面文件
├── build/                  # 构建输出目录
├── data/                   # 数据存储目录
├── config/                 # 配置文件目录
└── resources/              # 资源文件目录
```

## 编译说明

### 环境要求
- Qt 6.x
- C++17 编译器
- Windows (支持全局热键功能)

### 编译步骤

1. 进入项目目录
2. 生成构建文件：
   ```
   qmake.exe Lightweight-Mouse-Control.pro
   ```
3. 编译项目：
   ```
   mingw32-make.exe -j20
   ```

可执行文件将生成在 `build/Desktop_Qt_6_9_2_MinGW_64_bit-Debug/release/` 目录下。

## 使用说明

### 基本操作

1. **开始录制**: 点击"Start Recording"按钮或按 Ctrl+B
2. **停止录制**: 再次点击按钮或按 Ctrl+B，路径将自动保存
3. **回放路径**:
   - 在左侧列表中选择一个已保存的路径
   - 调整回放速度（可选）
   - 点击"Play Selected Path"按钮
4. **停止回放**: 点击"Stop"按钮

### 路径管理

- **查看详情**: 选择路径后，右侧会显示路径的详细信息
- **删除路径**: 选择路径后点击"Delete"按钮
- **刷新列表**: 点击"Refresh"按钮更新路径列表

### 设置配置

点击"Settings"按钮可以配置：
- **录制热键**: 自定义全局热键组合
- **录制精度**: 调整录制间隔（10-1000ms）
- **默认速度**: 设置默认回放速度
- **其他选项**: 应用程序相关设置

## 文件格式

路径文件以 `.mpath` 扩展名保存，包含：
- 文件格式版本信息
- 保存时间戳
- 鼠标轨迹点数量
- 所有鼠标位置和时间数据

文件默认保存在用户应用数据目录的 `MousePaths` 文件夹中。

## 技术特性

- **高精度录制**: 默认50ms间隔录制，可自定义
- **平滑回放**: 基于时间戳的精确回放
- **Windows API**: 使用Windows API进行精确鼠标控制
- **全局热键**: 支持系统级热键捕获
- **数据持久化**: 使用Qt的数据流进行文件存储

## 系统要求

- Windows 7 或更高版本
- 管理员权限（用于全局热键功能）
- 至少 50MB 可用磁盘空间

## 开发计划

- [ ] 支持更多自定义热键组合
- [ ] 添加路径编辑功能
- [ ] 支持导入/导出路径文件
- [ ] 添加系统托盘功能
- [ ] 支持宏录制（键盘+鼠标）

## 许可证

本项目基于 MIT 许可证开源。

## 贡献

欢迎提交 Issue 和 Pull Request！

---

**注意**: 使用全局热键功能可能需要管理员权限。某些杀毒软件可能会将此类程序标记为可疑，这是正常现象。